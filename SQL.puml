@startuml
' 文档网址：https://plantuml.com/zh/
' 编辑网址：http://www.plantuml.com/plantuml/uml

map ACT_CMMN_CASEDEF {
  ID_ => 主键
  REV_ =>
  NAME_ => 名称
  KEY_ =>
  VERSION_ =>
  CATEGORY_ =>
  DEPLOYMENT_ID_ => 关联ACT_CMMN_DEPLOYMENT表ID
  RESOURCE_NAME_ =>
  DESCRIPTION_ =>
  HAS_GRAPHICAL_NOTATION_ =>
  TENANT_ID_ =>
  DGRM_RESOURCE_NAME_ =>
  HAS_START_FORM_KEY_ =>
}

map ACT_CMMN_DATABASECHANGELOG {
  ID => ID
  AUTHOR => 操作人
  FILENAME => 文件名
  DATEEXECUTED => 执行时间
  ORDEREXECUTED => 执行顺序
  EXECTYPE =>
  MD5SUM =>
  DESCRIPTION => 描述
  COMMENTS =>
  TAG => 标签
  LIQUIBASE =>
  CONTEXTS =>
  LABELS =>
  DEPLOYMENT_ID =>
}

map ACT_CMMN_DATABASECHANGELOGLOCK {
  ID => 主键
  LOCKED =>
  LOCKGRANTED => 锁定时间
  LOCKEDBY => 锁定者
}

map ACT_CMMN_DEPLOYMENT {
  ID_ => 主键
  NAME_ => 名称
  CATEGORY_ => 类别
  KEY_ =>
  DEPLOY_TIME_ => 布署时间
  PARENT_DEPLOYMENT_ID_ =>
  TENANT_ID_ =>
}

map ACT_CMMN_DEPLOYMENT_RESOURCE {
  ID_ => 主键
  NAME_ => 名称
  DEPLOYMENT_ID_ => 关联ACT_DMN_DEPLOYMENT表ID
  RESOURCE_BYTES_ => 源码
  GENERATED_ =>
}

map ACT_CMMN_HI_CASE_INST {
  ID_ => 主键
  REV_ => 
  BUSINESS_KEY_ => 
  NAME_ => 名称
  PARENT_ID_ =>
  CASE_DEF_ID_ => 
  STATE_ => 状态
  START_TIME_ => 开始时间 
  END_TIME_ => 结束时间
  START_USER_ID_ =>  开始用户ID
  CALLBACK_ID_ => 回调ID
  CALLBACK_TYPE_ => 回调类别
  TENANT_ID_ =>
}

map ACT_CMMN_HI_MIL_INST {
  ID_ => 主键
  REV_ => 
  NAME_ => 名称
  TIME_STAMP_ =>  时间戳
  CASE_INST_ID_ => 
  CASE_DEF_ID_ =>
  ELEMENT_ID_ =>
}

map ACT_CMMN_RU_CASE_INST {
  ID_ => 主键
  REV_ => 
  BUSINESS_KEY_ => 
  NAME_ => 名称
  PARENT_ID_ => 
  CASE_DEF_ID_ => 
  STATE_ => 状态
  START_TIME_ => 开始时间 
  START_USER_ID_ => 开始用户ID
  CALLBACK_ID_ => 回调ID
  CALLBACK_TYPE_ => 回调类型
  TENANT_ID_ => 
  LOCK_TIME_ => 
  IS_COMPLETEABLE_ => 
}

map ACT_CMMN_RU_MIL_INST {
  ID_ => 主键
  NAME_ => 名称
  TIME_STAMP_ => 时间戳
  CASE_INST_ID_ => 
  CASE_DEF_ID_ => 
  ELEMENT_ID_ => 
}

map ACT_CMMN_RU_PLAN_ITEM_INST{
  ID_ => 主键
  REV_ => 
  CASE_DEF_ID_ => 关联ACT_CMMN_CASEDEF表ID
  CASE_INST_ID_ => 关联ACT_CMMN_RU_CASE_INST表ID
  STAGE_INST_ID_ =>
  IS_STAGE_ => 
  ELEMENT_ID_ => 
  NAME_ => 名称
  STATE_ => 状态
  START_TIME_ => 开始时间
  START_USER_ID_ => 开始用户ID
  REFERENCE_ID_ =>
  REFERENCE_TYPE_ => 
  TENANT_ID_ => 
  ITEM_DEFINITION_ID_ =>
  ITEM_DEFINITION_TYPE_ =>
  IS_COMPLETEABLE_ =>
  IS_COUNT_ENABLED_ =>
  VAR_COUNT_ =>
  SENTRY_PART_INST_COUNT_ =>
}

map ACT_CMMN_RU_SENTRY_PART_INST {
  ID_ => 主键
  REV_ =>
  CASE_DEF_ID_ => 关联ACT_CMMN_CASEDEF表ID
  CASE_INST_ID_ => 关联ACT_CMMN_RU_CASE_INST表ID
  PLAN_ITEM_INST_ID_ => 关联ACT_CMMN_RU_PLAN_ITEM_INST表ID
  ON_PART_ID_ =>
  IF_PART_ID_ => 
  TIME_STAMP_ => 时间戳  
}
ACT_FK_CASE_DEF_DPLY::DEPLOYMENT_ID_ --> ACT_CMMN_DEPLOYMENT::ID_
ACT_FK_CMMN_RSRC_DPL::DEPLOYMENT_ID_ --> ACT_CMMN_DEPLOYMENT::ID_

ACT_FK_CASE_INST_CASE_DEF::CASE_DEF_ID_ --> ACT_CMMN_CASEDEF::ID_

ACT_FK_MIL_CASE_DEF::CASE_DEF_ID_ --> ACT_CMMN_CASEDEF::ID_
ACT_FK_MIL_CASE_INST::CASE_INST_ID_ --> ACT_CMMN_RU_CASE_INST::ID_

ACT_FK_PLAN_ITEM_CASE_DEF::CASE_DEF_ID_ --> ACT_CMMN_CASEDEF::ID_
ACT_FK_PLAN_ITEM_CASE_INST::CASE_INST_ID_ --> ACT_CMMN_RU_CASE_INST::ID_

ACT_CMMN_CASEDEF::DEPLOYMENT_ID_ --> ACT_CMMN_DEPLOYMENT::ID_
ACT_CMMN_DEPLOYMENT_RESOURCE::DEPLOYMENT_ID_ --> ACT_CMMN_DEPLOYMENT::ID_
ACT_CMMN_RU_SENTRY_PART_INST::CASE_DEF_ID_ --> ACT_CMMN_CASEDEF::ID_

ACT_CMMN_RU_PLAN_ITEM_INST::CASE_DEF_ID_ --> ACT_CMMN_CASEDEF::ID_
ACT_CMMN_RU_PLAN_ITEM_INST::CASE_INST_ID_ --> ACT_CMMN_RU_CASE_INST::ID_

ACT_CMMN_RU_SENTRY_PART_INST::CASE_INST_ID_ --> ACT_CMMN_RU_CASE_INST::ID_
ACT_CMMN_RU_SENTRY_PART_INST::PLAN_ITEM_INST_ID_ --> ACT_CMMN_RU_PLAN_ITEM_INST::ID_

ACT_FK_SENTRY_CASE_DEF::CASE_DEF_ID_ --> ACT_CMMN_CASEDEF::ID_
ACT_FK_SENTRY_CASE_INST::CASE_INST_ID_ --> ACT_CMMN_RU_CASE_INST::ID_
ACT_FK_SENTRY_PLAN_ITEM::PLAN_ITEM_INST_ID_ --> ACT_CMMN_RU_PLAN_ITEM_INST::ID_


map ACT_CO_CONTENT_ITEM {
  ID_ => 主键
  NAME_ => 名称
  MIME_TYPE_ => 类型
  TASK_ID_ => 
  PROC_INST_ID_ => 
  CONTENT_STORE_ID_ => 
  CONTENT_STORE_NAME_ => 
  FIELD_ => 
  CONTENT_AVAILABLE_ => 
  CREATED_ => 
  CREATED_BY_ => 
  LAST_MODIFIED_ => 
  LAST_MODIFIED_BY_ => 
  CONTENT_SIZE_ => 
  TENANT_ID_ => 
  SCOPE_ID_ => 
  SCOPE_TYPE_ => 
}

map ACT_CO_DATABASECHANGELOG {
  ID => ID
  AUTHOR => 操作人
  FILENAME => 文件名
  DATEEXECUTED => 执行时间
  ORDEREXECUTED => 执行顺序
  EXECTYPE => 
  MD5SUM => 
  DESCRIPTION => 描述
  COMMENTS => 
  TAG => 标签
  LIQUIBASE =>
  CONTEXTS => 
  LABELS => 标签
  DEPLOYMENT_ID => 
}

map ACT_CO_DATABASECHANGELOGLOCK {
  ID => 主键    
  LOCKED => 
  LOCKGRANTED => 锁定时间 
  LOCKEDBY => 锁定者
}

map ACT_DMN_DATABASECHANGELOG {
  ID => ID
  AUTHOR => 操作人
  FILENAME => 文件名
  DATEEXECUTED => 执行时间
  ORDEREXECUTED => 执行顺序
  EXECTYPE => 
  MD5SUM => 
  DESCRIPTION => 描述
  COMMENTS => 
  TAG => 标签
  LIQUIBASE =>
  CONTEXTS => 
  LABELS => 标签
  DEPLOYMENT_ID => 
}

map ACT_DMN_DATABASECHANGELOGLOCK {
  ID => 主键    
  LOCKED => 
  LOCKGRANTED => 锁定时间 
  LOCKEDBY => 锁定者
}

map ACT_DMN_DECISION_TABLE {
  ID_ => 主键
  NAME_ => 名称
  VERSION_ =>
  KEY_ =>
  CATEGORY_ => 类别
  DEPLOYMENT_ID_ => 
  PARENT_DEPLOYMENT_ID_ => 
  TENANT_ID_ => 
  RESOURCE_NAME_ => 
  DESCRIPTION_ => 描述
}

map ACT_DMN_DEPLOYMENT {
  ID_ => 主键
  NAME_ => 名称
  CATEGORY_ => 类别
  DEPLOY_TIME_ =>
  TENANT_ID_ => 
  PARENT_DEPLOYMENT_ID_ => 
}

map ACT_DMN_HI_DECISION_EXECUTION{
  ID_ => 主键
  DECISION_DEFINITION_ID_ => 
  DEPLOYMENT_ID_ => 
  START_TIME_ => 开始时间
  END_TIME_ => 结束时间
  INSTANCE_ID_ => 
  EXECUTION_ID_ => 
  ACTIVITY_ID_ => 
  FAILED_ => 
  TENANT_ID_ => 
  EXECUTION_JSON_ => 
  SCOPE_TYPE_ => 
}

ACT_DMN_HI_DECISION_EXECUTION::DEPLOYMENT_ID_ --> ACT_DMN_DEPLOYMENT::ID_
ACT_DMN_DECISION_TABLE::DEPLOYMENT_ID_ --> ACT_DMN_DEPLOYMENT::ID_

map "ACT_EVT_LOG\n事件日志表" as ACT_EVT_LOG {
  LOG_NR_ => 主键
  TYPE_ => 类型
  PROC_DEF_ID_ => 
  PROC_INST_ID_ => 
  EXECUTION_ID_ => 
  TASK_ID_ => 
  TIME_STAMP_ => 时间戳
  USER_ID_ => 用户ID
  DATA_ =>
  LOCK_OWNER_ =>
  LOCK_TIME_ => 
  IS_PROCESSED_ => 
}

map ACT_FO_DATABASECHANGELOG {
  ID => ID
  AUTHOR => 操作人
  FILENAME => 文件名
  DATEEXECUTED => 执行时间
  ORDEREXECUTED => 执行顺序
  EXECTYPE => 
  MD5SUM => 
  DESCRIPTION => 描述
  COMMENTS => 
  TAG => 标签
  LIQUIBASE =>
  CONTEXTS => 
  LABELS => 标签
  DEPLOYMENT_ID => 
}

map ACT_FO_DATABASECHANGELOGLOCK {
  ID => 主键
  LOCKED => 
  LOCKGRANTED => 锁定时间
  LOCKEDBY => 锁定者
}

map ACT_FO_FORM_DEFINITION {
  ID_ => 主键
  NAME_ => 名称
  VERSION_ => 
  KEY_ => 
  CATEGORY_ => 类别
  DEPLOYMENT_ID_ => 
  PARENT_DEPLOYMENT_ID_ => 
  TENANT_ID_ => 
  RESOURCE_NAME_ => 
  DESCRIPTION_ => 
}

map ACT_FO_FORM_DEFINITION {
    ID_ => 主键
    NAME_ => 名称
    CATEGORY_ => 类别
    DEPLOY_TIME_ => 
    TENANT_ID_ => 
    PARENT_DEPLOYMENT_ID_ => 
}

map ACT_FO_FORM_INSTANCE {
    ID_ => 主键
    FORM_DEFINITION_ID_ => 关联ACT_FO_FORM_DEFINITION表ID
    PROC_INST_ID_ => 
    PROC_DEF_ID_ => 
    SUBMITTED_DATE_ =>
    SUBMITTED_BY_ => 
    FORM_VALUES_ID_ => 
    TENANT_ID_ => 
    SCOPE_ID_ => 
    SCOPE_TYPE_ =>
    SCOPE_DEFINITION_ID_ => 
}

map ACT_FO_FORM_RESOURCE {
    ID_ => 主键
    NAME_ => 名称
    DEPLOYMENT_ID_ => 
    RESOURCE_BYTES_ => 
}

ACT_FO_FORM_INSTANCE::FORM_DEFINITION_ID_ --> ACT_FO_FORM_DEFINITION::ID_

map "ACT_GE_BYTEARRAY\n通用的流程定义和流程资源"  as ACT_GE_BYTEARRAY {
    ID_ => 主键
    REV_ => 数据版本号
    NAME_ => 名称
    DEPLOYMENT_ID_ => 部署序号
    BYTES_ => 资源内容
    GENERATED_ => 是否是由activiti自动产生的资源
}

map "ACT_GE_PROPERTY\n系统相关属性"  as ACT_GE_PROPERTY{
    NAME_ => 名称
    VALUE_ => 属性值
    REV_ => 数据版本号
    GENERATED_ => 是否是由activiti自动产生的资源
}

map "ACT_HI_ACTINST\n历史行为表" as ACT_HI_ACTINST {
    ID_ => 主键
    REV_ => 数据版本号
    PROC_DEF_ID_ => 流程定义ID
    PROC_INST_ID_ => 流程实例ID
    EXECUTION_ID_ => 执行ID
    ACT_ID_ => 节点实例ID
    TASK_ID_ => 任务ID
    CALL_PROC_INST_ID_ => 调用外部的流程实例ID
    ACT_NAME_ => 节点名称
    ACT_TYPE_ => 节点类型
    ASSIGNEE_ => 节点签收人
    START_TIME_ => 开始时间
    END_TIME_ => 结束时间
    DURATION_ => 耗时
    DELETE_REASON_ => 删除原因
    TENANT_ID_ => 
}

map "ACT_HI_ATTACHMENT\n附件表" as ACT_HI_ATTACHMENT {
    ID_ => 主键
    REV_ => 数据版本号
    USER_ID_ => 用户ID
    NAME_ => 名称
    DESCRIPTION_ => 描述
    TYPE_ => 类型
    TASK_ID_ => 任务ID
    PROC_INST_ID_ => 流程实例ID
    URL_ => 
    CONTENT_ID_ => 字节表的ID
    TIME_ => 时间
}

map "ACT_HI_COMMENT\n评论表" as ACT_HI_COMMENT {
    ID_
    TYPE_ => 类型:event（事件）、comment（意见）
    TIME_ => 时间
    USER_ID_ => 用户ID
    TASK_ID_ => 任务ID
    PROC_INST_ID_ => 流程实例ID
    ACTION_ => 行为类型
    MESSAGE_ => 信息
    FULL_MSG_ => 全部内容
}

map "ACT_HI_DETAIL\n历史的流程运行中的细节信息" as ACT_HI_DETAIL {
    ID_ => 主键
    TYPE_ => 类型
    PROC_INST_ID_ => 流程实例ID
    EXECUTION_ID_ => 执行ID
    TASK_ID_ => 任务ID
    ACT_INST_ID_ => 节点实例ID
    NAME_ => 名称
    VAR_TYPE_ => 参数类型
    REV_ => 数据版本号
    TIME_ => 时间戳
    BYTEARRAY_ID_ => 字节表ID
    DOUBLE_ => 存储变量类型为Double
    LONG_ => 存储变量类型为long
    TEXT_ => 存储变量值类型为String
    TEXT2_ => 此处存储的是JPA持久化对象时，才会有值。此值为对象ID
}

ACT_GE_BYTEARRAY::DEPLOYMENT_ID_ --> ACT_RE_DEPLOYMENT::ID_
ACT_HI_ATTACHMENT::USER_ID_ --> ACT_ID_USER::ID_
ACT_HI_COMMENT::USER_ID_ --> ACT_ID_USER::ID_

@enduml
